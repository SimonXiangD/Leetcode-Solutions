# 924. Minimize Malware Spread 
- Method 1

    Sort and do dfs for graph, record the branch index of every node. Then find the node that saves most nodes.

    Note that adjacent chart is a bit different from chain chart when doing graph dfs.

    | |   Complexity  |
    | ----------- | ----------- | 
    |  Memory     | O(n) | 
    |      Time       |  O($n^2$) | 


    Solution:

    ``` h

    class Solution {
    public:
        void dfs(vector<int>& gp, int i, int ind, vector<vector<int>>& g) {
            if(gp[i]) return;
            gp[i] = ind;
            for(int j = 0; j < g[i].size(); j++) {
                if(g[i][j]) dfs(gp, j, ind, g);
            }
        }
        int minMalwareSpread(vector<vector<int>>& g, vector<int>& inits) {
            // find node that is connected to a branch only once in all inits and the size of branch is max
            int n = g.size();
            vector<int> gp(n,0);
            int ind = 1;
            for(int i = 0; i < n; i++) {
                if(gp[i]) continue;
                ind++;
                dfs(gp, i, ind, g);
            }
            // for(auto t : gp) cout << t << endl;
            unordered_map<int, int> umap;
            unordered_map<int, int> degs;
            for(int i = 0; i < n; i++) degs[gp[i]]++;
            for(auto t : inits) {
                if(umap.count(gp[t])) umap[gp[t]] = -1;
                else umap[gp[t]] = t;
            } 
            sort(inits.begin(), inits.end());
            int ans = inits[0], curMax = 0;
            for(auto t : inits) {
                if(umap.count(gp[t]) && umap[gp[t]] != -1 && degs[gp[t]] >= curMax) {
                    if(degs[gp[t]] == curMax) ans = min(ans, t);
                    else ans = t;
                    curMax = degs[gp[t]];
                }
            }
            return ans;
        }
    };

    ```

<!-- - Method 2

    This is another method.

    | |   Complexity  |
    | ----------- | ----------- | 
    |  Memory     | O(n) | 
    |      Time       |  O(n) | 


    Solution:

    ``` h



    ```

- Additional Knowledge:
       
    Here are some additional knowledge.



<br> -->